{
  "nodes": [
    {
      "parameters": {
        "url": "https://wttr.in/Tokyo?format=j1",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [220, 0],
      "id": "6da9ca72-a804-41f5-8359-63fbb5e2ae4f",
      "name": "wttr.in"
    },
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "triggerAtHour": 9
            }
          ]
        }
      },
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.2,
      "position": [0, 0],
      "id": "bed1f1f5-49bd-4ece-8152-e8f7804ca6ff",
      "name": "Trigger at 09:00"
    },
    {
      "parameters": {
        "jsCode": "// Loop over input items and add a new field called 'myNewField' to the JSON of each one\n\nconst englishWeather = $input.first().json.current_condition[0].weatherDesc[0].value;\n\n\n// å¤©æ°—ã®è‹±æ—¥å¤‰æ›è¾æ›¸ï¼ˆçµµæ–‡å­—ä»˜ãï¼‰\nconst weatherTranslations = {\n  // æ™´ã‚Œç³»\n  \"Clear\": { ja: \"å¿«æ™´\", emoji: \"â˜€ï¸\" },\n  \"Sunny\": { ja: \"æ™´ã‚Œ\", emoji: \"â˜€ï¸\" },\n  \"Partly cloudy\": { ja: \"æ™´ã‚Œæ™‚ã€…æ›‡ã‚Š\", emoji: \"â›…\" },\n  \"Partly Cloudy\": { ja: \"æ™´ã‚Œæ™‚ã€…æ›‡ã‚Š\", emoji: \"â›…\" },\n  \n  // æ›‡ã‚Šç³»\n  \"Cloudy\": { ja: \"æ›‡ã‚Š\", emoji: \"â˜ï¸\" },\n  \"Overcast\": { ja: \"ã©ã‚“ã‚ˆã‚Šæ›‡ã‚Š\", emoji: \"â˜ï¸\" },\n  \"Mist\": { ja: \"éœ§\", emoji: \"ğŸŒ«ï¸\" },\n  \"Fog\": { ja: \"æ¿ƒéœ§\", emoji: \"ğŸŒ«ï¸\" },\n  \"Freezing fog\": { ja: \"å‡çµéœ§\", emoji: \"ğŸŒ«ï¸â„ï¸\" },\n  \n  // é›¨ç³»\n  \"Patchy rain possible\": { ja: \"æ‰€ã«ã‚ˆã‚Šé›¨\", emoji: \"ğŸŒ¦ï¸\" },\n  \"Patchy rain nearby\": { ja: \"æ‰€ã«ã‚ˆã‚Šé›¨\", emoji: \"ğŸŒ¦ï¸\" },\n  \"Light rain\": { ja: \"å°é›¨\", emoji: \"ğŸŒ§ï¸\" },\n  \"Moderate rain\": { ja: \"é›¨\", emoji: \"ğŸŒ§ï¸\" },\n  \"Heavy rain\": { ja: \"å¤§é›¨\", emoji: \"ğŸŒ§ï¸\" },\n  \"Light rain shower\": { ja: \"ã«ã‚ã‹é›¨\", emoji: \"ğŸŒ¦ï¸\" },\n  \"Moderate or heavy rain shower\": { ja: \"å¼·ã„ã«ã‚ã‹é›¨\", emoji: \"ğŸŒ§ï¸\" },\n  \"Torrential rain shower\": { ja: \"è±ªé›¨\", emoji: \"ğŸŒ§ï¸\" },\n  \"Light drizzle\": { ja: \"éœ§é›¨\", emoji: \"ğŸŒ¦ï¸\" },\n  \"Patchy light drizzle\": { ja: \"æ‰€ã«ã‚ˆã‚Šéœ§é›¨\", emoji: \"ğŸŒ¦ï¸\" },\n  \"Heavy drizzle\": { ja: \"å¼·ã„éœ§é›¨\", emoji: \"ğŸŒ§ï¸\" },\n  \"Freezing drizzle\": { ja: \"å‡çµéœ§é›¨\", emoji: \"ğŸŒ§ï¸â„ï¸\" },\n  \n  // é›ªç³»\n  \"Patchy snow possible\": { ja: \"æ‰€ã«ã‚ˆã‚Šé›ª\", emoji: \"ğŸŒ¨ï¸\" },\n  \"Light snow\": { ja: \"å°é›ª\", emoji: \"ğŸŒ¨ï¸\" },\n  \"Moderate snow\": { ja: \"é›ª\", emoji: \"ğŸŒ¨ï¸\" },\n  \"Heavy snow\": { ja: \"å¤§é›ª\", emoji: \"â„ï¸\" },\n  \"Blizzard\": { ja: \"å¹é›ª\", emoji: \"ğŸŒ¨ï¸ğŸ’¨\" },\n  \"Patchy light snow\": { ja: \"æ‰€ã«ã‚ˆã‚Šå°é›ª\", emoji: \"ğŸŒ¨ï¸\" },\n  \"Light snow showers\": { ja: \"ã«ã‚ã‹é›ª\", emoji: \"ğŸŒ¨ï¸\" },\n  \"Moderate or heavy snow showers\": { ja: \"å¼·ã„ã«ã‚ã‹é›ª\", emoji: \"ğŸŒ¨ï¸\" },\n  \n  // é›·ç³»\n  \"Thundery outbreaks possible\": { ja: \"é›·ã®å¯èƒ½æ€§\", emoji: \"â›ˆï¸\" },\n  \"Thundery outbreaks in nearby\": { ja: \"æ‰€ã«ã‚ˆã‚Šé›·\", emoji: \"â›ˆï¸\" },\n  \"Patchy light rain with thunder\": { ja: \"é›·ã‚’ä¼´ã†å°é›¨\", emoji: \"â›ˆï¸\" },\n  \"Patchy light rain in area with thunder\": { ja: \"æ‰€ã«ã‚ˆã‚Šé›·é›¨\", emoji: \"â›ˆï¸\" },\n  \"Moderate or heavy rain with thunder\": { ja: \"é›·é›¨\", emoji: \"â›ˆï¸\" },\n  \n  // ã¿ãã‚Œãƒ»ã‚ã‚‰ã‚Œç³»\n  \"Ice pellets\": { ja: \"ã‚ã‚‰ã‚Œ\", emoji: \"ğŸ§Š\" },\n  \"Light sleet\": { ja: \"ã¿ãã‚Œ\", emoji: \"ğŸŒ¨ï¸ğŸ’§\" },\n  \"Moderate or heavy sleet\": { ja: \"å¼·ã„ã¿ãã‚Œ\", emoji: \"ğŸŒ¨ï¸ğŸ’§\" },\n  \"Light sleet showers\": { ja: \"ã«ã‚ã‹ã¿ãã‚Œ\", emoji: \"ğŸŒ¨ï¸ğŸ’§\" },\n  \"Moderate or heavy sleet showers\": { ja: \"å¼·ã„ã«ã‚ã‹ã¿ãã‚Œ\", emoji: \"ğŸŒ¨ï¸ğŸ’§\" }\n};\n\n// å¤‰æ›å‡¦ç†\nconst weatherInfo = weatherTranslations[englishWeather] || { \n  ja: englishWeather, \n  emoji: \"ğŸŒ¡ï¸\" \n};\n\nreturn {\n  json: {\n    å¤©æ°—: `${weatherInfo.emoji} ${weatherInfo.ja}`,\n    å¤©æ°—æ—¥æœ¬èª: weatherInfo.ja,\n    å¤©æ°—çµµæ–‡å­—: weatherInfo.emoji,\n    å¤©æ°—è‹±èª: englishWeather\n  }\n};"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [440, 0],
      "id": "0d854674-0bfa-43c4-b0a9-c88c2a904161",
      "name": "æ—¥æœ¬èªã®å¤©æ°—å–å¾—"
    },
    {
      "parameters": {
        "authentication": "oAuth2",
        "resource": "message",
        "guildId": {
          "__rl": true,
          "value": "1387281980193767454",
          "mode": "list",
          "cachedResultName": "nabekou29ã®å€‹äººã‚µãƒ¼ãƒãƒ¼",
          "cachedResultUrl": "https://discord.com/channels/1387281980193767454"
        },
        "channelId": {
          "__rl": true,
          "value": "1390387007410409522",
          "mode": "list",
          "cachedResultName": "æ™‚å ±",
          "cachedResultUrl": "https://discord.com/channels/1387281980193767454/1390387007410409522"
        },
        "content": "=### çµæœˆã‚†ã‹ã‚ŠãŒæœ¬æ—¥ã®å¤©æ°—ã‚’ãŠçŸ¥ã‚‰ã›ã—ã¾ã™\n\nå¤©æ°—: {{ $json['å¤©æ°—'] }}\næ°—æ¸©: {{ $json['ç¾åœ¨ã®æ°—æ¸©'] }}â„ƒ ({{ $json['ä½“æ„Ÿæ°—æ¸©'] }}â„ƒ)\næœ€é«˜/æœ€ä½: {{ $json['æœ€é«˜æ°—æ¸©'] }}â„ƒ / {{ $json['æœ€ä½æ°—æ¸©'] }}â„ƒ\næ¹¿åº¦: {{ $json['æ¹¿åº¦'] }}%\n\n",
        "options": {}
      },
      "type": "n8n-nodes-base.discord",
      "typeVersion": 2,
      "position": [880, 0],
      "id": "e6f6c63a-011f-45d6-820f-1ad87beeb247",
      "name": "Send a message",
      "webhookId": "6730732b-3003-4527-be81-41dee842a44c",
      "credentials": {
        "discordOAuth2Api": {
          "id": "b6lgF6gYthOTgBic",
          "name": "Discord Yukari "
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "66b8c4a3-1acc-42c8-9de7-66744ba5dea0",
              "name": "ç¾åœ¨ã®æ°—æ¸©",
              "value": "={{$node['wttr.in'].json.current_condition[0].temp_C}}",
              "type": "string"
            },
            {
              "id": "504d4129-8f7c-4b41-bb1c-bea59552dcfe",
              "name": "å¤©æ°—",
              "value": "={{ $node[\"æ—¥æœ¬èªã®å¤©æ°—å–å¾—\"].json['å¤©æ°—'] }}",
              "type": "string"
            },
            {
              "id": "326fde12-9c31-4fc6-baea-f962904ef524",
              "name": "æœ€é«˜æ°—æ¸©",
              "value": "={{ $node['wttr.in'].json.weather[0].maxtempC }}",
              "type": "string"
            },
            {
              "id": "f24a4555-df49-4200-910d-b442a967d0e0",
              "name": "æœ€ä½æ°—æ¸©",
              "value": "={{ $node['wttr.in'].json.weather[0].mintempC }}",
              "type": "string"
            },
            {
              "id": "718a692a-612f-458c-acc0-1f9dabbf093f",
              "name": "æ¹¿åº¦",
              "value": "={{ $node['wttr.in'].json.current_condition[0].humidity }}",
              "type": "string"
            },
            {
              "id": "1c8f182b-e9be-4ef5-9fcb-d27bb7fd69e3",
              "name": "ä½“æ„Ÿæ°—æ¸©",
              "value": "={{ $node['wttr.in'].json.current_condition[0].FeelsLikeC }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [660, 0],
      "id": "475fcff6-7d59-446a-b0d8-7f8ec8f0d51d",
      "name": "ãƒ‡ãƒ¼ã‚¿æ•´å½¢"
    }
  ],
  "connections": {
    "wttr.in": {
      "main": [
        [
          {
            "node": "æ—¥æœ¬èªã®å¤©æ°—å–å¾—",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Trigger at 09:00": {
      "main": [
        [
          {
            "node": "wttr.in",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ—¥æœ¬èªã®å¤©æ°—å–å¾—": {
      "main": [
        [
          {
            "node": "ãƒ‡ãƒ¼ã‚¿æ•´å½¢",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ãƒ‡ãƒ¼ã‚¿æ•´å½¢": {
      "main": [
        [
          {
            "node": "Send a message",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "pinData": {},
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "a956498ea839eacf15e20f0583bfa41581437490bcffa084e946a4c031fc46a1"
  }
}
